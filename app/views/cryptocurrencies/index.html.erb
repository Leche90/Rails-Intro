<h1>Cryptocurrencies</h1>

<!-- Search and Filter Form -->
<%= form_with url: cryptocurrencies_path, method: :get, local: true do %>
  <div>
    <!-- Search Field -->
    <label for="query">Search Cryptocurrencies:</label>
    <%= text_field_tag :query, params[:query], placeholder: "Enter name or symbol" %>
  </div>

  <div>
    <!-- Dropdown for Cryptocurrency Selection -->
    <label for="cryptocurrency_id">Filter by Cryptocurrency:</label>
    <%= select_tag :cryptocurrency_id, options_from_collection_for_select(@all_cryptocurrencies, :id, :name, params[:cryptocurrency_id]), include_blank: "All Cryptocurrencies" %>
  </div>

  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>

<ul>
  <% @cryptocurrencies.each do |crypto| %>
    <li>
      <%= link_to "#{crypto.name} - #{crypto.symbol}", cryptocurrency_path(crypto) %>
    </li>
  <% end %>
</ul>

<!-- Add pagination links -->
<%= paginate @cryptocurrencies %>
